{% extends 'base.html' %}
{% include 'headers/adminHeader.html' %}

{% block body %}
<style>
  .chart-container {
    width: 50%;
    height: 50%;
    margin: auto;
  }
</style>

<div class="jumbotron p-3" >
  <h3 class="text-white">Website Analysis</h3>
</div>
<div class="card chart-container text-white" style="background-color: rgb(41, 41, 41);">
  <h5 class="d-flex justify-content-center">Top 5 Products</h5>
  <canvas id="chart"></canvas>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js">
</script>
<script>
  const context = document.getElementById("chart").getContext('2d');
  const chart_labels = {{ popular_labels | tojson }};
  const chart_values = {{ popular_values | tojson }};
  const myChart = new Chart(context, {
    type: 'bar',
    data: {
      labels: chart_labels,
      datasets: [{
        label: 'Products Sold',
        backgroundColor: '#FF9900',
        borderColor: 'black',
        data: chart_values,
      }]
    },
    options: {
      scales: {
        yAxes: [{
          ticks: {
            beginAtZero: true,
          }
        }]
      }
    },
  });
</script>

</html>
{% endblock %}